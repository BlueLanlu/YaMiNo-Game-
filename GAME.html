<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>YaMiNo Gamoe! æŠ½å¡æ¼¸æ…¢å‹•ç•«</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #111;
      color: #fff;
      text-align: center;
      padding: 50px;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 40px;
    }
    .card-section {
      display: inline-block;
      vertical-align: top; 
      background-color: #222;
      padding: 30px;
      margin: 20px;
      border-radius: 20px;
      width: 300px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }
    .card-section h2 {
      margin-bottom: 20px;
      font-size: 24px;
    }
    .drawBtn {
      padding: 15px 30px;
      font-size: 20px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    .drawBtn:hover {
      background-color: #218838;
      transform: scale(1.05);
    }
    .drawBtn:active {
      transform: scale(0.95);
    }
    .result {
      margin-top: 20px;
      font-size: 20px;
      color: #00ffc8;
      min-height: 80px;
      white-space: pre-wrap;
	  overflow: hidden;
	  text-overflow: ellipsis;
      position: relative;
      left: 0;
    }
	
	/* ğŸ” æœå°‹æ¬„æ¨£å¼ */
    #searchContainer {
      position: fixed;
      top: 20px;
      right: 30px;
      text-align: left;
      z-index: 999;
    }
    #searchInput {
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      width: 200px;
    }
    #searchResults {
      background-color: #222;
      color: #0ff;
      margin-top: 5px;
      border-radius: 8px;
      max-height: 300px;
      overflow-y: auto;
      font-size: 14px;
      display: none;
      padding: 10px;
      width: 200px;
    }

    /* ç®¡ç†åŠŸèƒ½å€å¡Šçš„æ¨£å¼ */
    .management-section {
        width: 350px; 
    }

    .management-section input, .management-section select {
        width: 95%;
        padding: 12px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #555;
        background-color: #333;
        color: #fff;
        margin-bottom: 15px;
    }

    .management-section select { cursor: pointer; }
    
    .management-section h3 {
        margin-top: 20px;
        margin-bottom: 15px;
        color: #00ffc8;
        font-size: 20px;
        border-bottom: 1px solid #444;
        padding-bottom: 10px;
    }

    .management-section .message {
        min-height: 24px;
        margin-top: 15px;
        font-size: 16px;
        font-weight: bold;
        transition: opacity 0.5s;
    }

    /* ç¦ç”¨æŒ‰éˆ•å’Œä¸‹æ‹‰é¸å–®çš„æ¨£å¼ */
    .control-disabled {
        cursor: not-allowed;
        background-color: #555 !important;
        opacity: 0.6;
    }
    
    /* === [æ–°å¢] å½ˆå‡ºå¼è¦–çª— (Modal) çš„æ¨£å¼ === */
    .modal {
        display: none; /* é è¨­éš±è— */
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto; /* ç•¶å…§å®¹éå¤šæ™‚å¯ä»¥æ»¾å‹• */
        background-color: rgba(0,0,0,0.7); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
    }
    .modal-content {
        background-color: #2a2a2a;
        margin: 10% auto;
        padding: 25px;
        border: 1px solid #888;
        border-radius: 15px;
        width: 80%;
        max-width: 700px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }
    .close-btn {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }
    .close-btn:hover, .close-btn:focus {
        color: white;
        text-decoration: none;
    }
    #poolListContainer {
        max-height: 60vh; /* åˆ—è¡¨æœ€å¤§é«˜åº¦ç‚ºè¦–çª—çš„60% */
        overflow-y: auto; /* å…§å®¹è¶…å‡ºæ™‚é¡¯ç¤ºæ»¾å‹•æ¢ */
        text-align: left;
    }
    #poolListContainer h4 {
        color: #00ffc8;
        border-bottom: 1px solid #555;
        padding-bottom: 8px;
        margin-top: 20px;
    }
    #poolListContainer ul {
        list-style-type: none;
        padding-left: 10px;
    }
    #poolListContainer li {
        padding: 5px 0;
    }
    
	
  </style>
</head>
<body>
	<!-- ğŸ” æœå°‹æ¬„ -->
  <div id="searchContainer">
    <input type="text" id="searchInput" placeholder="ğŸ” æœå°‹å¡ç‰‡..." oninput="handleSearch(this.value)" />
    <div id="searchResults"></div>
  </div>
  
  <h1>ğŸ´ YaMiNo Gamoe! ğŸ´</h1>

  <!-- ç®¡ç†å€å¡Š -->
  <div class="card-section management-section">
    <h2>âœ¨ ç®¡ç†å¡æ±  âœ¨</h2>

    <!-- [ä¿®æ”¹] æ–°å¢ä¸€å€‹æŸ¥çœ‹åˆ—è¡¨çš„æŒ‰éˆ• -->
    <button class="drawBtn" style="width:100%; margin-bottom: 20px; background-color: #007bff;" onclick="openPoolListModal()">ğŸ“œ æŸ¥çœ‹æ‰€æœ‰å¡æ± åˆ—è¡¨ ğŸ“œ</button>

    <h3>æ–°å¢é …ç›®</h3>
    <input type="text" id="newItemInput" placeholder="è¼¸å…¥æ–°é …ç›®åç¨±...">
    <select id="addPoolSelector">
        <option value="" disabled selected>-- é¸æ“‡è¦åŠ å…¥çš„å¡æ±  --</option>
        <option value="pool">èƒ½åŠ›</option>
        <option value="racePool">ç¨®æ—</option>
        <option value="WeapenPool">æ­¦å™¨</option>
        <option value="TalentPool">ç‰¹æ®Šå¤©è³¦</option>
        <option value="PlacePool">åœ°å½¢</option>
        <option value="EventPool">çªç™¼äº‹ä»¶</option>
        <option value="SummonPool">å¬å–šç‰©</option>
    </select>
    <button class="drawBtn" onclick="addItemToPool()">ç¢ºèªæ–°å¢</button>
    <div id="addResult" class="message"></div>
    
    <hr style="border-color: #444; margin: 30px 0;">

    <h3>ç§»é™¤é …ç›®</h3>
    <select id="removePoolSelector" onchange="populateRemoveItems()">
        <option value="" disabled selected>-- 1. å…ˆé¸æ“‡å¡æ±  --</option>
        <option value="pool">èƒ½åŠ›</option>
        <option value="racePool">ç¨®æ—</option>
        <option value="WeapenPool">æ­¦å™¨</option>
        <option value="TalentPool">ç‰¹æ®Šå¤©è³¦</option>
        <option value="PlacePool">åœ°å½¢</option>
        <option value="EventPool">çªç™¼äº‹ä»¶</option>
        <option value="SummonPool">å¬å–šç‰©</option>
    </select>
    <select id="itemToRemoveSelector" disabled>
        <option value="">-- 2. å†é¸æ“‡è¦ç§»é™¤çš„é …ç›® --</option>
    </select>
    <button id="removeItemBtn" class="drawBtn control-disabled" onclick="removeItemFromPool()" disabled>ç¢ºèªç§»é™¤</button>
    <div id="removeResult" class="message"></div>
  </div>

  <div class="card-section">
    <h2>å¡æ± ä¸€ï¼šèƒ½åŠ›1</h2>
    <button class="drawBtn" onclick="drawCard('result1', pool, this)">DRAW!!!</button>
    <div class="result" id="result1"></div>
  </div>

  <div class="card-section">
    <h2>å¡æ± äºŒï¼šèƒ½åŠ›2</h2>
    <button class="drawBtn" onclick="drawCard('result2', pool, this)">æˆ‘å«ä½ æŠ½!!!</button>
    <div class="result" id="result2"></div>
  </div>

  <div class="card-section">
    <h2>å¡æ± ä¸‰ï¼šèƒ½åŠ›3</h2>
    <button class="drawBtn" onclick="drawCard('result3', pool, this)">å†æŠ½!!!</button>
    <div class="result" id="result3"></div>
  </div>

  <div class="card-section">
    <h2>ç¨®æ—æŠ½å–</h2>
    <button class="drawBtn" onclick="drawCard('result4', racePool, this)">æŠ½ç¨®æ—!!!</button>
    <div class="result" id="result4"></div>
  </div>
  
  <div class="card-section">
    <h2>æ­¦å™¨</h2>
    <button class="drawBtn" onclick="drawCard('result5', WeapenPool, this)">æŠ½æ­¦å™¨!!!</button>
    <div class="result" id="result5"></div>
  </div>
  
  <div class="card-section">
    <h2>ç‰¹æ®Šå¤©è³¦</h2>
    <button class="drawBtn" onclick="drawCard('result6', TalentPool, this)">æŠ½å¤©è³¦!!!</button>
    <div class="result" id="result6"></div>
  </div>
  
  <div class="card-section">
    <h2>åœ°å½¢</h2>
    <button class="drawBtn" onclick="drawCard('result7', PlacePool, this)">æŠ½åœ°å½¢!!!</button>
    <div class="result" id="result7"></div>
  </div>
  
  <div class="card-section">
    <h2>çªç™¼äº‹ä»¶</h2>
    <button class="drawBtn" onclick="drawCard('result8', EventPool, this)">æŠ½äº‹ä»¶!!!</button>
    <div class="result" id="result8"></div>
  </div>
  
  <div class="card-section">
    <h2>å¬å–šç‰©</h2>
    <button class="drawBtn" onclick="drawCard('result9', SummonPool, this)">éš¨ä¾¿æŠ½!!!</button>
    <div class="result" id="result9"></div>
  </div>
  
  <div id="customSearchContainer" style="position: fixed; bottom: 20px; right: 30px; text-align: left; z-index: 999;">
    <input type="text" id="customSearchInput" placeholder="ğŸ” æœå°‹è‡ªå®šæ¸…å–®..." oninput="handleCustomSearch(this.value)" 
         style="padding:10px;font-size:16px;border-radius:8px;border:none;width:200px;">
    <div id="customSearchResults" style="background-color:#222;color:#0ff;margin-top:5px;border-radius:8px;max-height:300px;overflow-y:auto;font-size:14px;display:none;padding:10px;width:200px;"></div>
  </div>

  <!-- === [æ–°å¢] å½ˆå‡ºå¼è¦–çª—çš„ HTML çµæ§‹ === -->
  <div id="poolListModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closePoolListModal()">&times;</span>
        <h2>ğŸ“œ æ‰€æœ‰å¡æ± åˆ—è¡¨ ğŸ“œ</h2>
        <div id="poolListContainer"></div>
    </div>
	
  
  
<script>
  let pool = [ "ç„¡ä¸‹é™è¡“å¼.èµ« (çŸ­è·é›¢å‚³é€)(ä¸‰å›åˆä¸€æ¬¡)(ç‰¹æ®Š)(S)", "ç„¡ä¸‹é™è¡“å¼.è’¼ (è¶…å¼·åŒ–é«”è¡“)(åæ‡‰åŠ›æ°¸ä¹…å¼·åŒ–)(ç‰¹æ®Š)(S)", 
	"åè½‰è¡“å¼ (A)ï¼ˆåªèƒ½ä¿®å¾©å°å‚·ï¼Œæ–·è‚¢éœ€å…©å›åˆï¼‰", "é»‘é–ƒ (A)ï¼ˆæ™®é€šå‚·å®³çš„å¹³æ–¹å€ï¼‰", "åç•«å’’æ³• (B)ï¼ˆå¼±é»æ”»æ“Šï¼‰", "è©›å’’æƒ¡é­” (A)ï¼ˆè©›å’’å°æ‰‹ä¸€å€‹è² é¢æ•ˆæœï¼Œå…±ä¸‰æ¬¡ï¼‰",
	"çŸ³åŒ–æƒ¡é­” (A)ï¼ˆçŸ³åŒ–å°æ‰‹ä¸€å›åˆï¼Œå†·å»äº”å›åˆï¼‰", "ç‹ç‹¸æƒ¡é­” (B)", "åç¨®å½±æ³•è¡“ (S)", "ç†”å²©", "é»‘ç¹©ï¼ˆé˜»æ–·èƒ½åŠ›ï¼Œäº”å›åˆå…§ç‡ƒç›¡ï¼‰", "èœ˜è››äºº2099", "æµ·æ°´", "é–ƒå…‰", "é›·é›»", "å‰µé€ ï¼ˆåŸºç¤é‡‘å±¬èˆ‡å…ƒç´ ï¼‰", "çµ²ç·š", "ç«ç„°", "ç¥çš„ä¸åœ¨å ´è­‰æ˜ï¼ˆä¸‰å›åˆéš±èº«ï¼Œå†·å»å…©å›åˆï¼‰",
	"ç¬¬ä¸‰ä»£ç«ç„°èƒ½åŠ›è€…ï¼ˆç†±ç©ºæ°£ã€é›»æ³¢ã€æƒ¡é­”ç«ï¼‰", "ç¬é–“ç§»å‹•ï¼ˆå…©å›åˆä¸€æ¬¡ï¼‰", "è¤‡è£½ï¼ˆè¤‡è£½å°æ‰‹èƒ½åŠ›ä¸€æ¬¡ï¼Œæœ€å¤šå…©æ¬¡ï¼‰", "çˆ†ç‚¸", "æ™‚é–“æš«åœï¼ˆä¸‰æ¬¡ï¼‰", "å››æ¬¡å…ƒå…¬å¯“ï¼ˆå…©å›åˆèº²è—ï¼Œå†·å»ä¸‰å›åˆï¼‰", 
	"è¡€è¼ªçœ¼ï¼ˆé€²åŒ–æœƒå¤±å»èƒ½åŠ›èˆ‡æ­¦å™¨ï¼‰", "å¸è¡€ï¼ˆä¾å‚·å£å¸å–ï¼‰", "ç”Ÿå‘½å·å–ï¼ˆå°‘é‡ï¼‰", "æ¤ç‰©", "æ±å ‚çš„æ‹æ‰‹è¡“å¼", "æš—å½±å¤§äººå²èŠå§†ï¼ˆä¸€æ¬¡æ ¸çˆ†ï¼‰", "æƒ æƒ çš„çˆ†è£‚é­”æ³•ï¼ˆå…©æ¬¡ï¼Œç”¨å¾Œç–²å‹ï¼‰", "ç¥ç›¾ï¼ˆå…ç–«æ”»æ“Šä¸€å›åˆï¼Œå†·å»ä¸‰å›åˆï¼‰", "æ­»éˆæ³•è¡“ï¼ˆå¬å–šæ­»éˆè»éšŠï¼‰", "çŠ§ç‰²å¬å–šï¼ˆå¬å–šåŸºç¤èƒ½åŠ›ï¼Œäº”æ¬¡ï¼‰", "æ¨¡ä»¿ï¼ˆé«”è¡“å‹•ä½œï¼Œä¸å«èƒ½åŠ›ï¼‰", "è¶…å†ç”Ÿï¼ˆæ–·è‚¢ä¸‰å›åˆæ¢å¾©ï¼Œå†·å»ä¸‰å›åˆï¼‰", 
	"é¢¨", "ç«", "æ°´", "é›·", "åœŸ", "å†°", "å¤ªé™½", "æ°´æ™¶", "é‹¼", "One for All", "All for One", "é€•åº­æ‹³ï¼ˆå»¶é²è‡ªå‹•å†æ”»æ“Šï¼‰", "å»¶é²å‚·å®³ï¼ˆä¸‹ä¸€å›åˆæ‰é€ æˆå‚·å®³ï¼‰", "å’’éˆæ“è¡“", "å…¨åæ“Šï¼ˆç‰©ç†æ”»æ“Šåæ“Šä¸€æ¬¡ï¼‰", "PLANT//SHAPERï¼ˆéš•çŸ³ã€å‚³é€é–€ï¼Œå†·å»äº”å›åˆï¼‰", "èµ¤è¡€æ“è¡“ï¼ˆéœ€æµè¡€ï¼‰", "é ˆä½èƒ½å‘¼", "æƒ¡é­”é«”ï¼ˆå…ç–«ç‰©ç†æ”»æ“Šï¼Œè‡ªæˆ‘ä¿®å¾©ï¼‰", 
	"æ³¢ç´‹", "èœˆèš£èµ«å­", "ç¾½èµ«", "Xenoæ¢Ÿèµ«å­", "èºæ—‹ä¸¸", "ç¥å¨ï¼ˆä¸‰å›åˆä¸€æ¬¡ï¼‰", "å¹»è¡“ï¼ˆä¸‰å›åˆå†·å»ï¼‰", "å¬å–šå¹«æ‰‹ï¼ˆç¾å¯¦äººç‰©ï¼‰", "å§‹è§£", "åè§£", "é»‘éœ§", "æ­»äº¡å›æ­¸ï¼ˆå…©æ¬¡ï¼‰", "ç…™å¹•", "ç„¡é™é•·ç¹©å­", "æ²™å¾·å¨æ–¯å¦ï¼ˆå…©å›åˆï¼Œä¹‹å¾Œç•¶æ©Ÿä¸€å›åˆï¼‰", "ç¨‹å¼é§­å…¥", "ç‹å­æˆ°æ³•", "å…ƒæ°£å½ˆ", "åŠ åŠ›ç‚®", "é¾œæ´¾æ°£åŠŸ", "æ¯€æ»…ï¼ˆä¸‰æ¬¡ï¼‰", "æŠ¹æ¶ˆï¼ˆäº”æ¬¡ï¼‰", 
	"å¥ˆç±³ç§‘æŠ€", "ç„¡äººæ©Ÿæ§åˆ¶", "é‡‘æ­£æ©ï¼ˆæ ¸å½ˆèˆ‡åŒ—éŸ“è»éšŠï¼‰", "ç¿’è¿‘å¹³ï¼ˆæ ¸å½ˆèˆ‡å…±è»ï¼‰", "æŠ•å½±å’’æ³•", "å’’è¨€ï¼ˆèªè¨€è¶Šå¼·è‡ªæè¶Šå¤šï¼‰", "æ¯’", "ä»™äººè·³", "ç¬æ­¥", "å‰ƒï¼ˆå…©å›åˆä¸€æ¬¡ï¼‰", "æœˆç‰™å¤©è¡", "è–æ–‡å­—ï¼ˆBLEACHï¼‰", "æœˆäº®", "æ—¥è•", "ç‰¹æ®Šå¬å–š", "è½‰ç”Ÿ", "å˜´ç‚®ï¼ˆå¿ƒéˆï¼‰", "å˜´ç‚®ï¼ˆç‰©ç†ï¼‰", "é…¸", "æ°£å½ˆ", "é»é»çƒ", "ç«‹å ´å±éšœï¼ˆå…©å›åˆç‰©ç†æœ‰æ•ˆï¼‰", 
	"è¿·å› æ”»æ“Š", "å¿µå‹•åŠ›ï¼ˆä¸èƒ½æ’•è£‚ï¼‰", "Sans", "æ¶²æ…‹æ°®", "é€Ÿåº¦èˆ‡æ¿€æƒ…", "æ­¦è£è‰²", "æ­»éˆå¬å–š", "ç¥ä¹‹ç¾©çœ¼", "åŠå†·åŠç†±", "è™›é–ƒ" ];
	
  let racePool = [ "å¤©ä½¿", "ç²¾éˆ", "æ©Ÿå™¨äºº", "éˆé‹¸äºº", "æ­¦å£«åˆ€äºº", "å®‡å¿—æ³¢ä½åŠ©", "å®‡å¿—æ³¢é¼¬", "å®‡å¿—æ³¢æ­¢æ°´", "å®‡å¿—æ³¢ç­", "å®‡å¿—æ³¢å¸¶åœŸ", "äººé¡", "é­šäºº", 
	"å¸è¡€é¬¼", "é­šæ—", "é¾æ—", "æ­»ç¥", "ä¸æ­»æ—", "äº”æ¢å®¶(è¡Œå‹•å¼·åŒ–)", "ç¦ªé™¢å®¶(é«”è¡“å¼·åŒ–)", "é’çœ¼ç™½é¾", "é»‘è‰²çŸ³æ¿", "è—è‰²é§ç”²", "ä¸ƒå¤•ç¥­", "éŠ€æ²³å®ˆè­·è€…", 
	"æµ·è³Šç‹", "èœ˜è››ä¿ ", "é‹¼éµäºº", "ç¥å¥‡å¥³ä¿ ", "è™è ä¿ ", "å†°èˆ‡ç«ä¹‹æ­Œ", "ç¥ç§˜å°éšŠ", "ç ´å£ç¥", "æš—æ®ºè€…", "å¹»å½±æ—…åœ˜", "æ­»ä¾", "çµäººå”æœƒ", "ç«å½±å¿è€…", "é«˜é”", "è³½äºäºº", "è¶…äºº" ];
  
  let WeapenPool = [ "æƒ¡é­”æœå¯¦","ç‚é­”åˆ€(vergil)","æ™‚ç©ºåˆƒ","å‹åˆ©èª“ç´„ä¹‹åŠ","æ’’æ—¦åˆƒ",
	"é€ èˆ¹æ¨¡æ“¬å™¨çš„æ§Œå­","æ³•æ–", "åŸŸé–€ç–†(å°é–å°æ‰‹ä¸€é …èƒ½åŠ›20å›åˆ)","ä¸ƒæµ·çš„é‰ˆåˆ€(ä¸ƒæµ·)",
	"ä¹™éª¨çš„æ­¦å£«åˆ€(ä¹™éª¨)","æ€§è½‰è—¥æ°´","åŒ•æ‰‹", "å°åˆ€","é£›åˆ€","å¤©é–æ–¬æœˆ","æ‹³å¥—","ç”©æ£","é›™åˆ€æµ",
	"ä¸‰åˆ€æµ","ç¥å™¨åŠ","é›™æ§","çƒèŒ²","RPG","å™´å­","é›™ç¯€æ£", "ç¥ä¹‹æ–§","åå­—åŠª","å","æ–¬é­„åˆ€","YAMAHA TMAX 560é‡æ©Ÿ",
	"æ±‚é“ç‰","ä¿¡å¤«çš„æ‹³é ­","å™´ç«å™¨","æ‰‹ç‚®","æœ—åŸºåŠªæ–¯ä¹‹æ§", "ç›¾ç‰Œ","æ­¦å£«åˆ€","å¤©é€†ç‰Ÿ","ä¸‰çµå¤©ç›¾","ä¸‰ç¯€æ£","é¦¬æ¡¶å¡" ];
	
  let TalentPool = [ "è‡ªæ®˜","èˆ”è¡€","æ„Ÿé›»","é çŸ¥æœªä¾†(ä¸€æ¬¡æ•µäººè¡Œå‹•)(å…©å›åˆä¸€æ¬¡)", 
	"å…­çœ¼[ç„¡ä¸‹é™](è‹¥æœ‰è’¼æˆ–èµ«å…¶ä¸­ä¸€ç¨®ç›´æ¥é€²éšæˆç„¡ä¸‹é™è¡“å¼{å…­çœ¼})(ç‰¹æ®Š)(å¯ä½¿ç”¨ç„¡ä¸‹é™1å›åˆ,å†·å»3å›åˆ,ä¸é™æ¬¡)",
	"å‘¼å¸æ³•(å¼·åŒ–èº«é«”)", "é»‘é–ƒ(å¼·åŒ–èƒ½åŠ›)","å½©è™¹(ç”·åŒ)","å…ƒç´ æŠµæŠ—","å¤©ç”Ÿçš„å¼·é‹(å…ç–«ä¸‰æ¬¡æ”»æ“Š)","è©›å’’(å°æ•µäººæ–½åŠ ä¸€å±¤è² é¢æ•ˆæœ)", 
	"å…­çœ¼[æ™®é€š](é–‹å•Ÿå¯ç²å¾—è¶…æ„Ÿå®˜3å›åˆ,5å›åˆå†·å»,ä¸é™æ¬¡)","å®Œç¾æ§åˆ¶","æ¥µé€Ÿ","æ”¯é…","å‚²æ…¢","å¿ƒéˆæ„Ÿæ‡‰", "å¿ƒçœ¼","ä»™äººé«”","å¤©é«”",
	"æƒ¡éˆé«”è³ª(æ¯ä¸‰å›åˆå‡ºç¾ä¸€éš»æƒ¡éˆé€²è¡Œç„¡å·®åˆ¥æ”»æ“Š)","ä¸å¹¸(æ¯5å›åˆä¸€é …èƒ½åŠ›ä¸èƒ½ä½¿ç”¨)","å¤©èˆ‡å’’ç¸›", "å¤©èº«çš„å¼·è€…","é–è¡€(ä¸€æ—¦å—åˆ°æŒçºŒå‚·å®³orä¸€æ“Šæ–ƒæ®ºå‰‡ç›´æ¥ç„¡æ•ˆåŒ–,å¦å‰‡ä¸æ­»)","èº«é«”æ®˜ç¼º:(è…³æ®‹,æ–·æ‰‹,çœ¼ç)","å†·éœ", 
	"éœ¸ç‹è‰²éœ¸æ°£","è¶…ç¥ç´šåæ‡‰åŠ›" ];
  
  let PlacePool = [ "å¹³åœ°","å±±åœ°","å°åœ°","ç›†åœ°","è™›ç©ºç«™å°","å¤ªç©º","ç«å±±","éŸ“çš„å¾Œå±±",
	"åŸå¸‚","æµ·æ´‹", "ç©ºå³¶","å°å³¶","ç«¹æ—å¾Œå±±","ä¿¡å¤«é˜¿å…¬å®¶","å­¸æ ¡","é‚£ç¾å‰‹æ˜Ÿ","æ²™æ¼ ","å°ä¸ƒä¹™","æ‘©è‰¾çŸ³åƒé™£", "æ€ªç¸å®‡å®™","æ²¼æ¾¤","ç«å½±æ‘" ];
  let EventPool = [ "éš•çŸ³ä¾†è¥²","ç«å±±çˆ†ç™¼","æµ·å˜¯","è¡€æœˆ", "å•†äºº[å‡ºç¾3å›åˆ](ä½¿ç”¨è‡ªèº«èƒ½åŠ›éš¨æ©ŸæŠ½å–ä¸€é …èƒ½åŠ›(ä¸€äººä¸€æ¬¡)ï¼Œä½¿ç”¨æ­¦å™¨éš¨æ©ŸæŠ½å–ä¸€æ¬¡æ­¦å™¨ï¼Œä½¿ç”¨ä¸€é …èƒ½åŠ›éš¨æ©ŸæŠ½å–ä¸€æ¬¡åœ°å½¢ï¼Œä½¿ç”¨100å…ƒä¾†è³¼è²·ä¸€å€‹èƒ½åŠ›æˆ–æ­¦å™¨ä½ç½®)(æ“æœ‰[å¼·é‹]å¤©è³¦èƒ½å…è²»å…Œæ›ä¸€æ¬¡ä¸Šè¿°ä¸€é …å•†å“)", 
	"ç„¡","ä¸‹é›¨","ä¸‹é…¸é›¨","å…¨é«”ç¸®å°","è½é›·","æ®­å±å±æ©Ÿ","å›åˆç¸®çŸ­" ];
  
  let SummonPool = [ "é»‘æ´(åªèƒ½å¸æ±è¥¿æˆ–äºº,æ¯å€‹é»‘æ´å­˜åœ¨ä¸€å›åˆ(å…±äº”æ¬¡))","éˆé¹¿","è–èª•é˜¿å…¬çš„é›ªæ©‡è·Ÿåé¨",
	"éŸ“çš„éº¥å¡å€«","ä¿¡å¤«çš„è¥¿ç“œ","ç²¾éˆ","é­”æ³•æ›¸", "é‡Œé¦™(åå›åˆå¬å–šä¸€æ¬¡,å…±æŒçºŒä¸‰å›åˆ,å…±å¬å–š3æ¬¡(å¯ç™¼å°„å’’åŠ›å¤§ç ²,è¤‡è£½å°æ‰‹ä¸€æ¨£èƒ½åŠ›ä¸¦ä½¿ç”¨ä¸€æ¬¡ç›´åˆ°é‡Œé¦™æ¶ˆå¤±)(èˆ‡ä¹™éª¨å„ªå¤ªæ­é…èƒ½è®Šç‚ºå®Œå…¨é«”)(ç‰¹æ®Š))", 
  "æ¨¡ä»¿è€…çš„é¢å…·(ç‰¹æ®Š)(æ¨¡ä»¿å°æ‰‹ä¸€å€‹èƒ½åŠ›ä¸‰å›åˆäºŒæ¬¡)","å¤ªé™½é¾", "éŠæˆ²ç‹çš„å¡ç‰‡(å¯æŠ½10æ¬¡,ç¨®é¡:é’çœ¼ç™½é¾(æœ€å¤šæŠ½åˆ°ä¸‰å¼µ)[ç‰¹æ®Š],é»‘æš—å¤§æ³•å¸«(æœ€å¤šæŠ½åˆ°5å¼µ)[ç‰¹æ®Š],æ­»è€…å¾©ç”¦(æœ€å¤šæŠ½åˆ°å…©å¼µ),{æ­è¥¿é‡Œæ–¯å¤©ç©ºé¾,å¤ªé™½ç¥çš„ç¿¼ç¥é¾,æ­è²åˆ©æ–¯å…‹å·¨ç¥å…µ}[ç‰¹æ®Š],å¼·æ¬²ä¹‹å£º(å¤šæŠ½å…©æ¬¡å¡,æœ€å¤šä½¿ç”¨3æ¬¡),è½é›·)", 
  "æ³¢å¥‡å¡”","ä¹å–‡å˜›","å‚³å¥‡å¯¶ç›¸","ç”·åŒå¯¶ç›¸","æ—¥è•é¾","æœˆäº®é¾","ä¸­åœ‹é¾","ç‹—å‹¾","èœœèœ‚é¾","æƒ¡éˆ","å¥³æœ‹å‹","æ€ªç¸å®‡å®™å‚³é€å™¨","æ€ªç¸","å‚³é€é–€çš„å‚³é€æ§","å……æ°£å¨ƒå¨ƒ","æé¾ç‹—" ];
  
  const customList = [ "æ–¬æœˆ", "æ¼†é»‘ä¹‹åˆƒ", "é­”ç‹çš„è©›å’’", "è˜¿è‰æ§", "ç¸è€³æ§", "æ¯”åŸºå°¼æˆ°å£«", "å²èŠå§†ä¹‹ç‹", "å½±åˆ†èº«è¡“", "è®Šèº«è¡“", "é«˜é”è®Šå½¢", "æƒ…ç·’æ“æ§", "æ™‚å…‰æ©Ÿ", "å°ç•¶å®¶ç‚’é£¯", "é‡åŠ›æ³•å‰‡" ];
  
  const timers = {};

  function drawCard(resultId, cardArray, btn) {
    if (timers[resultId]) return;

    const resultElem = document.getElementById(resultId);
    resultElem.textContent = "";

    btn.style.transition = 'transform 0.1s ease';
    btn.style.transform = 'translateX(10px)';
    setTimeout(() => {
      btn.style.transform = 'translateX(0px)';
    }, 100);

    let totalSteps = 15,
        step = 0;
    const finalCard = cardArray[Math.floor(Math.random() * cardArray.length)];

    function animate() {
      if (step >= totalSteps) {
        let text = finalCard;
        if (text.length > 10) {
          text = text.slice(0, 10) + '\n' + text.slice(10);
         }
         resultElem.textContent = text;
         timers[resultId] = null;
         return;
      }

      resultElem.textContent = cardArray[Math.floor(Math.random() * cardArray.length)];
      let delay = Math.floor(30 * Math.pow(1.15, step));
      timers[resultId] = setTimeout(() => {
        step++;
        animate();
      }, delay);
    }
    animate();
  }

  function handleSearch(keyword) {
    const resultsDiv = document.getElementById("searchResults");
    const lowerKeyword = keyword.toLowerCase().trim();

    if (!lowerKeyword) {
      resultsDiv.style.display = "none";
      resultsDiv.innerHTML = "";
      return;
    }

    const allCards = [
      ...pool,
      ...racePool,
      ...WeapenPool,
      ...TalentPool,
      ...PlacePool,
      ...EventPool,
      ...SummonPool
    ];

    const matches = allCards.filter(item => item.toLowerCase().includes(lowerKeyword));
    resultsDiv.innerHTML = matches.length === 0
      ? "<em>æ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„çµæœ</em>"
      : matches.map(match => `<div>â€¢ ${match}</div>`).join("");
    resultsDiv.style.display = "block";
  }

  function handleCustomSearch(keyword) {
    const resultsDiv = document.getElementById("customSearchResults");
    const lowerKeyword = keyword.toLowerCase().trim();

    if (!lowerKeyword) {
      resultsDiv.style.display = "none";
      resultsDiv.innerHTML = "";
      return;
    }

    const matches = customList.filter(item => item.toLowerCase().includes(lowerKeyword));
    resultsDiv.innerHTML = matches.length === 0
      ? "<em>æ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„çµæœ</em>"
      : matches.map(match => `<div>â€¢ ${match}</div>`).join("");
    resultsDiv.style.display = "block";
  }

// --- å¡æ± ç®¡ç†ç›¸é—œå‡½å¼ ---
  function getPoolByName(poolName) {
    switch (poolName) {
      case 'pool': return pool;
      case 'racePool': return racePool;
      case 'WeapenPool': return WeapenPool;
      case 'TalentPool': return TalentPool;
      case 'PlacePool': return PlacePool;
      case 'EventPool': return EventPool;
      case 'SummonPool': return SummonPool;
      default: return null;
    }
  }

  function addItemToPool() {
    const newItemInput = document.getElementById('newItemInput');
    const poolSelector = document.getElementById('addPoolSelector');
    const addResultDiv = document.getElementById('addResult');

    const itemName = newItemInput.value.trim();
    const selectedPoolName = poolSelector.value;

    if (!itemName) {
      addResultDiv.textContent = 'éŒ¯èª¤ï¼šé …ç›®åç¨±ä¸èƒ½ç‚ºç©ºï¼';
      addResultDiv.style.color = '#dc3545';
      return;
    }

    if (!selectedPoolName) {
      addResultDiv.textContent = 'éŒ¯èª¤ï¼šè«‹é¸æ“‡ä¸€å€‹å¡æ± ï¼';
      addResultDiv.style.color = '#dc3545';
      return;
    }

    const targetPool = getPoolByName(selectedPoolName);

    if (targetPool) {
      targetPool.push(itemName);
      addResultDiv.textContent = `æˆåŠŸå°‡ã€Œ${itemName}ã€åŠ å…¥å¡æ± ï¼`;
      addResultDiv.style.color = '#28a745';
      newItemInput.value = '';

      setTimeout(() => {
        addResultDiv.textContent = '';
      }, 3000);
    }
  }

  function populateRemoveItems() {
    const poolSelector = document.getElementById('removePoolSelector');
    const itemSelector = document.getElementById('itemToRemoveSelector');
    const removeBtn = document.getElementById('removeItemBtn');

    const selectedPoolName = poolSelector.value;
    itemSelector.innerHTML = '<option value="">-- 2. å†é¸æ“‡è¦ç§»é™¤çš„é …ç›® --</option>';

    if (!selectedPoolName) {
      itemSelector.disabled = true;
      removeBtn.disabled = true;
      removeBtn.classList.add('control-disabled');
      return;
    }

    const targetPool = getPoolByName(selectedPoolName);

    if (targetPool && targetPool.length > 0) {
      targetPool.forEach(item => {
        const option = document.createElement('option');
        option.value = item;
        option.textContent = item;
        itemSelector.appendChild(option);
      });
      itemSelector.disabled = false;
      removeBtn.disabled = false;
      removeBtn.classList.remove('control-disabled');
    } else {
      itemSelector.disabled = true;
      removeBtn.disabled = true;
      removeBtn.classList.add('control-disabled');
    }
  }

  function removeItemFromPool() {
    const poolSelector = document.getElementById('removePoolSelector');
    const itemSelector = document.getElementById('itemToRemoveSelector');
    const removeResultDiv = document.getElementById('removeResult');

    const selectedPoolName = poolSelector.value;
    const selectedItemName = itemSelector.value;

    if (!selectedPoolName) {
      removeResultDiv.textContent = 'éŒ¯èª¤ï¼šè«‹å…ˆé¸æ“‡å¡æ± ï¼';
      removeResultDiv.style.color = '#dc3545';
      return;
    }

    if (!selectedItemName) {
      removeResultDiv.textContent = 'éŒ¯èª¤ï¼šè«‹é¸æ“‡è¦ç§»é™¤çš„é …ç›®ï¼';
      removeResultDiv.style.color = '#dc3545';
      return;
    }

    const targetPool = getPoolByName(selectedPoolName);
    const itemIndex = targetPool.indexOf(selectedItemName);

    if (itemIndex > -1) {
      targetPool.splice(itemIndex, 1);
      removeResultDiv.textContent = `æˆåŠŸå°‡ã€Œ${selectedItemName}ã€ç§»é™¤ï¼`;
      removeResultDiv.style.color = '#28a745';

      populateRemoveItems();

      setTimeout(() => {
        removeResultDiv.textContent = '';
      }, 3000);
    } else {
      removeResultDiv.textContent = 'éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°è©²é …ç›®ï¼Œå¯èƒ½å·²è¢«ç§»é™¤ã€‚';
      removeResultDiv.style.color = '#dc3545';
    } 
  }

   /* === [æ–°å¢] å½ˆå‡ºå¼è¦–çª—ç›¸é—œçš„å‡½å¼ === */
    const modal = document.getElementById('poolListModal');

    // æ‰“é–‹è¦–çª—ä¸¦å‹•æ…‹ç”Ÿæˆåˆ—è¡¨
    function openPoolListModal() {
        const container = document.getElementById('poolListContainer');
        container.innerHTML = ''; // æ¯æ¬¡æ‰“é–‹å‰éƒ½æ¸…ç©ºèˆŠå…§å®¹

        const allPools = {
            'èƒ½åŠ›': pool, 'ç¨®æ—': racePool, 'æ­¦å™¨': WeapenPool,
            'ç‰¹æ®Šå¤©è³¦': TalentPool, 'åœ°å½¢': PlacePool, 'çªç™¼äº‹ä»¶': EventPool,
            'å¬å–šç‰©': SummonPool
        };

        for (const poolTitle in allPools) {
            const poolArray = allPools[poolTitle];
            
            // å‰µå»ºæ¨™é¡Œ
            const titleElem = document.createElement('h4');
            titleElem.textContent = `${poolTitle} (${poolArray.length} é …)`;
            container.appendChild(titleElem);

            // å‰µå»ºåˆ—è¡¨
            const listElem = document.createElement('ul');
            if(poolArray.length > 0) {
                poolArray.forEach(item => {
                    const itemElem = document.createElement('li');
                    itemElem.textContent = item;
                    listElem.appendChild(itemElem);
                });
            } else {
                 const emptyElem = document.createElement('li');
                 emptyElem.textContent = 'æ­¤å¡æ± ç›®å‰ç‚ºç©º';
                 emptyElem.style.fontStyle = 'italic';
                 emptyElem.style.opacity = '0.6';
                 listElem.appendChild(emptyElem);
            }
            container.appendChild(listElem);
        }

        modal.style.display = 'block'; // é¡¯ç¤ºè¦–çª—
    }

    // é—œé–‰è¦–çª—
    function closePoolListModal() {
        modal.style.display = 'none';
    }

    // ç•¶ä½¿ç”¨è€…é»æ“Šè¦–çª—å¤–éƒ¨å€åŸŸæ™‚ï¼Œä¹Ÿé—œé–‰è¦–çª—
    window.onclick = function(event) {
        if (event.target == modal) {
            closePoolListModal();
        }
    }
	
	
</script>

</body>
</html>